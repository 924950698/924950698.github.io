(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{350:function(t,s,v){"use strict";v.r(s);var _=v(10),r=Object(_.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"taro-小程序架构设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#taro-小程序架构设计"}},[t._v("#")]),t._v(" Taro 小程序架构设计")]),t._v(" "),s("ol",[s("li",[t._v("项目结构目录：\n"),s("br"),t._v(" "),s("img",{attrs:{src:"https://i.loli.net/2020/07/15/g4djDNwMluKXYHI.png",width:"225",height:"auto",alt:"图片名称",align:"center"}})])]),t._v(" "),s("p",[s("b",[t._v(" assets ")]),t._v(" 存放静态资源，主要是图片。不过由于小程序对体积大小比较重视，建议转为base64 或者 https 形式。"),s("br")]),t._v(" "),s("p",[s("b",[t._v("components")]),t._v(" 存放小程序通用组件"),s("br")]),t._v(" "),s("p",[s("b",[t._v("constants")]),t._v("  重点说：\n"),s("img",{attrs:{src:"https://i.loli.net/2020/07/15/Axlp9VoK6NSrRC4.png",width:"165",height:"auto",alt:"图片名称",align:"top"}}),s("br"),t._v(" "),s("i",[t._v("constants.ts文件：")]),t._v(" 用于存放项目中对一些固定的常量，比如课程类型，课程简称， token有效期时间， loading动画等 "),s("br"),t._v(" "),s("i",[t._v("network.config.ts文件：")]),t._v(" 用于存放接口地址。所有接口地址放在一个文件维护。原因：有时候，后台服务升级或者服务切换，需要改接口地址。只需要改这一个文件即可。如果写在请求中，改动的文件会很多。"),s("br"),t._v(" "),s("i",[t._v("router.config.ts文件：")]),t._v(" 用于存放路由地址，所有页面的路由地址集中管理。"),s("br"),t._v(" "),s("i",[t._v("storage.config.ts文件：")]),t._v(" 用于存放本地缓存方法中的key值，将字符串存到对象中的key。统一维护，便于管理"),s("br")]),t._v(" "),s("p",[s("b",[t._v("page")]),t._v(" 存放按照模块、业务功能划分的页面 "),s("br")]),t._v(" "),s("p",[s("b",[t._v("service")]),t._v(" 存放封装的接口请求方法。重点说：\n"),s("img",{attrs:{src:"https://i.loli.net/2020/07/15/EkenQJ9Y76RSj2p.png",width:"205",height:"auto",alt:"图片名称",align:"top"}}),s("br"),t._v(" "),s("i",[t._v("BaseRequest.ts文件：")]),t._v(" 项目中封装的接口通用请求方法，存放于此。包括：request请求参数、通用返回参数、封装的请求主体方法、常用的get、 post 、 put请求方法、抛错方法、服务器需要的参数（时间戳等）"),s("br"),t._v(" "),s("i",[t._v("storage.service.ts文件：")]),t._v(" 本地缓存读取、写入的一些方法。此处的key值是storage.config.ts赋值的常量"),s("br"),t._v(" "),s("i",[t._v("其它文件：")]),t._v("其余的文件是各个页面封装的接口的请求方法。注意写好注释和文档地址。"),s("br")]),t._v(" "),s("p",[s("b",[t._v("store")]),t._v("  维护全局变量的数据管理仓库。当全局变量在项目中任何一个地方改变值，各级页面都应获取最新值。"),s("br")]),t._v(" "),s("p",[s("b",[t._v("utils")]),t._v(" 存放一些通用的方法。"),s("br"),t._v(" "),s("i",[t._v("router.ts文件：")]),t._v("从taro路由跳转的基础上封装一些路由跳转的方法。因为小程序对路由的页面层级有一定的要起。所以，在选择页面跳转时，应该选择适当的方法。"),s("br"),t._v(" "),s("i",[t._v("util.ts文件：")]),t._v("封装符合业务逻辑的一些常用的方法。包括，时间、日期的格式化、toast提示、loading、机型判断、号码验证、学季等"),s("br")]),t._v(" "),s("p",[s("b",[t._v("app.tsx")]),t._v(" 类似微信小程序的json文件，一些项目配置，插件引入在此文件中开发。"),s("br"),t._v(" "),s("b",[t._v("app.scss")]),t._v(" 全局scss样式"),s("br"),t._v(" "),s("b",[t._v("index.html")]),t._v("根页面"),s("br")])])}),[],!1,null,null,null);s.default=r.exports}}]);